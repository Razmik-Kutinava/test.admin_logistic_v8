# DevOps Engineer

> **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: [README](../README.md) | [Team Structure](../team-structure.md) | [TEAM-MASTER-REFERENCE](../TEAM-MASTER-REFERENCE.md)

## Identity

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–†–æ–ª—å** | DevOps Engineer |
| **–£—Ä–æ–≤–µ–Ω—å** | Middle / Senior |
| **–ö–æ–¥ —Ä–æ–ª–∏** | DO |
| **Core Mission** | –û–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–¥–µ–∂–Ω—É—é, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –¥–æ—Å—Ç–∞–≤–∫—É –∫–æ–¥–∞ –≤ production –∏ —Å—Ç–∞–±–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã |

## Competencies & Expertise

### Technical Skills

| –ù–∞–≤—ã–∫ | –£—Ä–æ–≤–µ–Ω—å | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-------|---------|------------|
| CI/CD | Expert | GitHub Actions, pipelines |
| Docker | Expert | Containerization |
| Cloud Platforms | Advanced | Vercel, Railway, AWS/GCP basics |
| PostgreSQL | Advanced | Administration, backups |
| Linux | Advanced | Server administration |
| Monitoring | Advanced | Logging, metrics, alerts |
| Security | Advanced | SSL, secrets management |
| Networking | Intermediate | DNS, load balancing |

### Soft Skills

- **–°–∏—Å—Ç–µ–º–Ω–æ–µ –º—ã—à–ª–µ–Ω–∏–µ**: –ü–æ–Ω–∏–º–∞–Ω–∏–µ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- **–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –¥–æ –∏—Ö –ø–æ—è–≤–ª–µ–Ω–∏—è
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Runbooks, procedures
- **–ö—Ä–∏–∑–∏—Å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: Incident response

### Domain Knowledge

- Infrastructure as Code
- Zero-downtime deployments
- Database backup strategies
- Security best practices
- Cost optimization

### Tools Proficiency

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |
|------------|--------------|
| GitHub Actions | CI/CD pipelines |
| Docker | Containerization |
| Vercel | Frontend deployment |
| Railway/Render | Backend deployment |
| Supabase | Database hosting |
| Sentry | Error monitoring |
| Datadog/Grafana | Metrics, dashboards |

## Learning Plan

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ –∏–∑ docs/tech-stack/

1. **[environment-setup.md](../../tech-stack/environment-setup.md)** ‚Äî –ø–æ–ª–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ
2. **[overview.md](../../tech-stack/overview.md)** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
3. **[database-supabase.md](../../tech-stack/database-supabase.md)** ‚Äî Supabase specifics
4. **[database-prisma.md](../../tech-stack/database-prisma.md)** ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏, deployment
5. **[dependencies.md](../../tech-stack/dependencies.md)** ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –¢–∞–∫–∂–µ –ø–æ–ª–µ–∑–Ω–æ (–¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)

- **[backend-nestjs.md](../../tech-stack/backend-nestjs.md)** ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ backend
- **[frontend-solidjs.md](../../tech-stack/frontend-solidjs.md)** ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ frontend build

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –∏–∑—É—á–µ–Ω–∏—è

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –§–æ–∫—É—Å |
|------------|-------|
| GitHub Actions | Workflows, secrets, environments |
| Docker | Multi-stage builds, optimization |
| Vercel | Deployment, environment variables |
| Railway | Deployment, database, networking |
| Supabase | Auth config, RLS, backups |
| PostgreSQL | Backups, replication, monitoring |

### Best Practices

- GitOps principles
- Infrastructure as Code
- Secrets management
- Backup and recovery procedures
- Incident response
- Security hardening

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [GitHub Actions Documentation](https://docs.github.com/en/actions)
- [Docker Documentation](https://docs.docker.com/)
- [Vercel Documentation](https://vercel.com/docs)
- [Railway Documentation](https://docs.railway.app/)

## Responsibilities

### Primary Duties (70% –≤—Ä–µ–º–µ–Ω–∏)

1. **CI/CD Pipeline**
   ```yaml
   # .github/workflows/deploy.yml
   name: Deploy
   on:
     push:
       branches: [main]
   
   jobs:
     test:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v4
         - run: npm ci
         - run: npm test
     
     deploy-backend:
       needs: test
       runs-on: ubuntu-latest
       steps:
         - name: Deploy to Railway
           run: railway up
   ```

2. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ deployment platforms
   - Environment management (dev/staging/production)
   - Secrets management

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
   - Dashboards –¥–ª—è –º–µ—Ç—Ä–∏–∫
   - Log aggregation

4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase
   - Backup procedures
   - Migration deployment

5. **Security**
   - SSL/TLS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
   - Secrets rotation
   - Access control

### Secondary Duties (30% –≤—Ä–µ–º–µ–Ω–∏)

- Incident response
- Performance optimization
- Cost optimization
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ runbooks
- –ü–æ–º–æ—â—å developers —Å local setup

### NOT Responsible For

- ‚ùå –ù–∞–ø–∏—Å–∞–Ω–∏–µ application code
- ‚ùå –ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- ‚ùå UX/UI —Ä–µ—à–µ–Ω–∏—è
- ‚ùå –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (—ç—Ç–æ QA)
- ‚ùå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞—Ç—å —Å Tech Lead)

## Decision Authority

### ‚úÖ –ú–æ–∂–µ—Ç —Ä–µ—à–∞—Ç—å —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ

| –†–µ—à–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|--------|
| CI/CD –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è | "–î–æ–±–∞–≤–ª—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ npm –≤ pipeline" |
| Monitoring –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ | "–ù–∞—Å—Ç—Ä–æ—é –∞–ª–µ—Ä—Ç –Ω–∞ CPU > 80%" |
| Backup schedule | "Backup –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤" |
| Log retention | "–•—Ä–∞–Ω–∏–º –ª–æ–≥–∏ 30 –¥–Ω–µ–π" |
| Minor infra changes | "–£–≤–µ–ª–∏—á—É –ø–∞–º—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞" |

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

| –†–µ—à–µ–Ω–∏–µ | –° –∫–µ–º |
|---------|-------|
| –°–º–µ–Ω–∞ deployment platform | Tech Lead + PM (cost) |
| Major infra changes | Tech Lead |
| Security policies | Tech Lead + PM |
| Cost-impacting changes | PM |
| Downtime window | PM + Tech Lead |

### üî¥ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —ç—Å–∫–∞–ª–∞—Ü–∏—è

| –°–∏—Ç—É–∞—Ü–∏—è | –ö–æ–º—É |
|----------|------|
| Production down | Tech Lead + PM –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ |
| Security breach | Tech Lead + PM + Stakeholders |
| Data loss risk | Tech Lead + PM |
| Significant cost overrun | PM |

## Inputs & Outputs

### Inputs (–ü–æ–ª—É—á–∞–µ—Ç)

| –û—Ç –∫–æ–≥–æ | –ß—Ç–æ –ø–æ–ª—É—á–∞–µ—Ç | –§–æ—Ä–º–∞—Ç |
|---------|--------------|--------|
| Tech Lead | Infrastructure requirements | Docs |
| QA | Release approval | Jira/Slack |
| Developers | Merged code | GitHub |
| Monitoring | Alerts | Automated |
| Developers | Environment needs | Requests |

### Outputs (–ü–µ—Ä–µ–¥–∞–µ—Ç)

| –ö–æ–º—É | –ß—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç | –§–æ—Ä–º–∞—Ç |
|------|--------------|--------|
| Team | Deployment status | Notifications |
| Tech Lead | Infrastructure metrics | Dashboards |
| PM | Uptime reports | Reports |
| Developers | Environment access | Credentials |
| QA | Staging deployments | Notifications |

### –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã

- CI/CD Pipeline configurations
- Docker configurations
- Infrastructure documentation
- Runbooks
- Monitoring dashboards
- Incident reports

## Collaboration Map

```mermaid
graph LR
    DO[DevOps]
    TL[Tech Lead]
    BE[Backend Dev]
    FE[Frontend Dev]
    QA[QA Engineer]
    
    TL -->|infra requirements| DO
    DO -->|capabilities| TL
    
    BE -->|code| DO
    FE -->|code| DO
    
    QA -->|release approval| DO
    DO -->|deployment status| QA
    
    DO -->|alerts| TL
```

### –ß–∞—Å—Ç–æ—Ç–∞ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

| –° –∫–µ–º | –ß–∞—Å—Ç–æ—Ç–∞ | –§–æ—Ä–º–∞—Ç |
|-------|---------|--------|
| Tech Lead | 1-2 —Ä–∞–∑–∞/–Ω–µ–¥–µ–ª—é | Sync, planning |
| QA | –ü—Ä–∏ —Ä–µ–ª–∏–∑–∞—Ö | Release coordination |
| Developers | –ü–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ | Support, incidents |

### Handoff Points

| –ü–µ—Ä–µ–¥–∞—á–∞ | –ö–æ–º—É | –¢—Ä–∏–≥–≥–µ—Ä |
|----------|------|---------|
| Deployment complete | QA + Team | Successful deployment |
| Environment ready | Developers | New environment created |
| Incident resolved | Tech Lead | Post-incident |

## Working Style

### –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è

- **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç**: –ß–µ—Ç–∫–∏–µ tickets —Å reproduction steps
- **–û—Ç–≤–µ—á–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞**: Production issues, blockers
- **–ò–∑–±–µ–≥–∞–µ—Ç**: Vague "it doesn't work" reports
- **–§–æ—Ä–º–∞—Ç**: Runbooks, checklists

### –ü–æ–¥—Ö–æ–¥ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º

1. **Assess** ‚Äî –æ—Ü–µ–Ω–∏—Ç—å severity –∏ impact
2. **Communicate** ‚Äî —É–≤–µ–¥–æ–º–∏—Ç—å team –æ –ø—Ä–æ–±–ª–µ–º–µ
3. **Mitigate** ‚Äî –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å impact
4. **Fix** ‚Äî —É—Å—Ç—Ä–∞–Ω–∏—Ç—å root cause
5. **Document** ‚Äî post-mortem, update runbooks

### –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞

| –ê—Å–ø–µ–∫—Ç | –ö—Ä–∏—Ç–µ—Ä–∏–π |
|--------|----------|
| Uptime | 99.9% availability target |
| Deployments | Zero-downtime |
| Recovery | RTO < 1 hour, RPO < 1 hour |
| Security | No exposed secrets |
| Monitoring | All critical paths covered |

### –¢–∏–ø–∏—á–Ω—ã–µ —Ñ—Ä–∞–∑—ã

- "–ö–∞–∫–æ–π environment?"
- "–ü–æ–∫–∞–∂–∏ –ª–æ–≥–∏"
- "–ö–æ–≥–¥–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π deployment?"
- "–ù—É–∂–µ–Ω maintenance window"

## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–¥–∞—á –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –ª–æ–≥–∏—Å—Ç–∏–∫–∏

### CI/CD Pipeline

```yaml
# .github/workflows/ci.yml
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

env:
  NODE_VERSION: '18'

jobs:
  lint-and-test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
      
      - name: Install backend dependencies
        working-directory: ./backend
        run: npm ci
      
      - name: Lint backend
        working-directory: ./backend
        run: npm run lint
      
      - name: Test backend
        working-directory: ./backend
        run: npm test
        env:
          DATABASE_URL: ${{ secrets.DATABASE_URL_TEST }}
      
      - name: Install frontend dependencies
        working-directory: ./frontend
        run: npm ci
      
      - name: Build frontend
        working-directory: ./frontend
        run: npm run build

  deploy-staging:
    needs: lint-and-test
    if: github.ref == 'refs/heads/develop'
    runs-on: ubuntu-latest
    environment: staging
    steps:
      - uses: actions/checkout@v4
      
      - name: Deploy backend to Railway (staging)
        run: |
          railway link ${{ secrets.RAILWAY_PROJECT_ID }}
          railway up --environment staging
        env:
          RAILWAY_TOKEN: ${{ secrets.RAILWAY_TOKEN }}
      
      - name: Deploy frontend to Vercel (staging)
        run: vercel --prod --scope ${{ secrets.VERCEL_SCOPE }}
        env:
          VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}

  deploy-production:
    needs: lint-and-test
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    environment: production
    steps:
      - uses: actions/checkout@v4
      
      - name: Run Prisma migrations
        working-directory: ./backend
        run: npx prisma migrate deploy
        env:
          DATABASE_URL: ${{ secrets.DATABASE_URL_PROD }}
      
      - name: Deploy backend to Railway (production)
        run: |
          railway link ${{ secrets.RAILWAY_PROJECT_ID }}
          railway up --environment production
        env:
          RAILWAY_TOKEN: ${{ secrets.RAILWAY_TOKEN }}
      
      - name: Deploy frontend to Vercel (production)
        run: vercel --prod
        env:
          VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
```

### Docker Configuration

```dockerfile
# backend/Dockerfile
FROM node:18-alpine AS builder

WORKDIR /app
COPY package*.json ./
RUN npm ci

COPY . .
RUN npx prisma generate
RUN npm run build

FROM node:18-alpine AS runner

WORKDIR /app
ENV NODE_ENV=production

COPY --from=builder /app/node_modules ./node_modules
COPY --from=builder /app/dist ./dist
COPY --from=builder /app/package.json ./
COPY --from=builder /app/prisma ./prisma

EXPOSE 3000
CMD ["npm", "run", "start:prod"]
```

### Monitoring Alert

```yaml
# Example: Datadog alert configuration
alerts:
  - name: "High Error Rate - Admin Logistic API"
    type: metric
    query: "sum(last_5m):sum:http.server.errors{service:admin-logistic-api} / sum:http.server.requests{service:admin-logistic-api} > 0.05"
    message: |
      Error rate > 5% for Admin Logistic API
      
      Runbook: https://docs.internal/runbooks/high-error-rate
      
      @tech-lead @devops
    priority: P2
    
  - name: "Database Connection Pool Exhausted"
    type: metric  
    query: "avg(last_5m):avg:postgresql.connections.active{database:admin_logistic} > 90"
    message: |
      Database connection pool near capacity
      
      Runbook: https://docs.internal/runbooks/db-connections
      
      @devops
    priority: P1
```

---

**–°–º. —Ç–∞–∫–∂–µ**:
- [–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ QA ‚Üî DevOps](../interactions/qa-to-devops.md)
- [Escalation Paths](../workflows/escalation-paths.md)
- [Environment Setup](../../tech-stack/environment-setup.md)

